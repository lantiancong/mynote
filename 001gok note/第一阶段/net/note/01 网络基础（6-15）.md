# 网络基础

##### 网络的组成

>硬件：终端，网络设备，通信介质。软件，协议
>
>服务器+软件==》网络设备

路由器，不同网段；交换机，同网段

防护墙：过滤器。通信协议。介质

---

局域网(LAN)，城域网(MAN)

广域网（WAN)

---

网络拓扑：

总线（总线故障），环形（单点故障），树形（总线故障），网状（冗余，可靠）

混合

---

企业拓扑：

站库分离，

非法入侵检查

上网行为管理

![1](..\img\1-1 网络基础.png)

---

### 通信模型 （背）

7层：

应用：服务接口

表示：编码（http。。）

会话：建立管理会话

传输：tcp/udp，端对端

网络：ip

数据链路：mac

物理：比特流/电磁波

![2](..\img\1-2 OSI七层.png)

![3](..\img\1-3 七层设备.png)

---

#### 数据包传输

协议数据单元（PDU）（最小单元）

应用层：数据 Data

传输层：段 Segment (源端口，目的端口)

网络层：(数据)包 Packet （源IP，目的IP）

数据链路层：帧 Frame （源MAC，目的MAC）

物理层：位 Bit

---

### 网络协议

![4](..\img\1-4 网络协议.png)

### 端口

![5](..\img\1-5 服务对应端口.png)

---

## 各协议的报文段

TCP

IP

HTTP

ICMP

MAC

ARP



---

---

## 应用层

端口《=》服务《=》常见漏洞

### 背！

---





# (园区)网络架构

##### 二/三层：

### 接入层：

与终端设备直连，访问控制，安全策略，VLAN划分

确保安连接

### 【汇聚层】：

性能较好，管理接入

### 核心层：

性能最好，高带宽，高可用，高负载

#### （出口层）：

运营商提供，防护墙，管理网络，NAT，连接外部网络

---

### ip

点分十进制

##### 路由表：

> route print

网络位==》》划分网段

主机位

##### IPv4地址分类

A,B,C,D,E

A:前8位（首位为0）

B:前16位（前两位为10）

C:前24位（前三位为110）

### 127.0.0.1

![6](..\img\1-6 IP分类.png)



---

公网地址：唯一

私有地址：有些IP值重复用

![7](..\img\1-7 IP分类2.png)

特殊：

默认：0.0.0.0

广播:255.255.255.255

---

### NAT

地址转换

---

CDN

---

### DNS

域名	==》	IP

#### 域名结构：（层级）

![8](..\img\1-8 域名结构.png)

### DNS工作原理

用户请求=》本地DNS=》DNS查询=》递归查询=》返回结果

---

## TCP/UDP

头部信息：

背！！！

![9](..\img\1-9 TandU.png)

---

### TCP三次握手/四次挥手

初始化同步=》同步确认=》最终确认

![10](..\img\1-10 三次握手.png)



---

### ICMP（存活测试，dos攻击）

ping。。

---

### ARP

arp欺骗

---

### VPN   

